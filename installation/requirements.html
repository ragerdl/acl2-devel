<HTML>
<HEAD><TITLE>ACL2 Version 6.1 Installation Guide: Requirements</TITLE></HEAD>

<BODY TEXT="#000000">
<BODY BGCOLOR="#FFFFFF">

<H1>Requirements</A></H1>

<b><font>[<a href="installation.html">Back to main page of Installation Guide.</a>]</font></b>

<p>

<UL>
  <LI><A HREF="#Obtaining-Lisp">Obtaining Common Lisp</A> (alphabetical listing)
  <UL>
    <LI><A HREF="#Obtaining-Allegro">Obtaining Allegro Common Lisp</A>
    <LI><A HREF="#Obtaining-CCL">Obtaining CCL (OpenMCL)</A>
    <LI><A HREF="#Obtaining-CLISP">Obtaining CLisp</A>
    <LI><A HREF="#Obtaining-CMUCL">Obtaining CMU Common Lisp</A>
    <LI><A HREF="#Obtaining-GCL">Obtaining GCL</A>
    <LI><A HREF="#Obtaining-LispWorks">Obtaining LispWorks</A>
    <LI><A HREF="#Obtaining-SBCL">Obtaining SBCL</A>
  </UL>
  <LI><A HREF="#Performance">Performance comparisons</A>
</UL>

<p><hr size=3 noshade><p>

ACL2 Version 6.1 Copyright (C), Regents of the University of Texas
ACL2 is licensed under the terms of the LICENSE file distributed with
ACL2.

<H3><A NAME="Obtaining-Lisp">Obtaining Common Lisp</A></H3>

ACL2 works on Unix, GNU-Linux, and Mac OS X, which we call "Unix-like
systems", as well as many Windows operating systems (at least
including Windows 98, Windows 2000, and Windows XP).  It can be built
on top of any of the following Common Lisps, listed here
alphabetically.

<ul>
<LI><A HREF="#Obtaining-Allegro">Allegro Common Lisp</A></B><P>
<LI><A HREF="#Obtaining-CCL">CCL (OpenMCL)</A></B><P>
<LI><A HREF="#Obtaining-CLISP">CLisp</A></B><P>
<LI><A HREF="#Obtaining-CMUCL">CMU Common Lisp</A></B><P>
<LI><A HREF="#Obtaining-GCL">GCL</A></B><P>
<LI><A HREF="#Obtaining-LispWorks">LispWorks</A></B><P>
<LI><A HREF="#Obtaining-SBCL">SBCL</A></B><P>
</ul>

<p>

Often we put timing comparisons
between different lisps in the <a href="http://www.cs.utexas.edu/users/moore/acl2/current/new.html">ACL2 News</a>.

<P><B><A NAME="Obtaining-Allegro">Obtaining Allegro Common Lisp</A></B><P>

The website for Allegro Common Lisp, a commercial implementation, is
<code><a href="http://www.franz.com/">http://www.franz.com/</a></code>.
You may be able to obtain a trial version there.

<P><B><A NAME="Obtaining-CCL">Obtaining CCL (OpenMCL)</A></B><P>

Clozure CL (CCL) was formerly known as OpenMCL.  Quoting from the <a
href="http://clozure.com/clozurecl.html">Clozure CL web page</a>:
``Clozure CL is a fast, mature, open source Common Lisp implementation
that runs on Linux, Mac OS X and BSD on either Intel x86-64 or PPC.''

<p>

For Windows users: We observed stalls using CCL 1.5 on Windows (in
May, 2010), though not with CCL 1.4.  We have been told by a CCL
implementor that this bug has been fixed, and people running CCL 1.5
under Windows at a revision less than 13900 should update.

<p>

Here is an easy way to obtain and build the latest version (generally
recommended) for Linux on running on x86 or x86-64.  First execute the
following shell command to create a <code>ccl</code> directory, but
substituting for <code>linuxx86</code>, if appropriate, any of
<code>darwinx86</code> (which we use for modern Macs), <code>freebsdx86</code>,
<code>solarisx86</code>, <code>windows</code>, <code>darwinppc</code>,
or <code>linuxppc</code>.

<pre>
svn co http://svn.clozure.com/publicsvn/openmcl/trunk/linuxx86/ccl
</pre>

Note: if you prefer the latest release, you can obtain that instead,
for example as follows.

<pre>
svn co http://svn.clozure.com/publicsvn/openmcl/release/1.3/linuxx86/ccl
</pre>

Then create a suitable script, say as follows, where <code>DIR</code>
is the directory above the new <code>ccl</code> directory.

<hr>
<pre>
#!/bin/sh

tmp=`uname -a | fgrep x86_64`
export CCL_DEFAULT_DIRECTORY=DIR/ccl
# Start up 64-bit or 32-bit lisp, respectively:
if [ "$tmp" != "" ] ; then \
    DIR/ccl/scripts/ccl64 $* ; \
else \
    DIR/ccl/scripts/ccl $* ; \
fi
</pre>
<hr>

Be sure to make your script executable.  For example, if your script
filename is <code>my-script</code> then on linux you might want to
execute the following shell command.

<pre>
chmod +x my-script
</pre>

Now rebuild the CCL lisp image by invoking the above script and then
executing the following commands.

<pre>
(ccl:rebuild-ccl :full t)
(quit)
</pre>

Your script (invoked with a suitable pathname, or just the filename if
the directory is on your path) will now start the updated CCL lisp
image.

<p>

More details if you want or need them:<br>

Step 3 in
<code><a
href="http://trac.clozure.com/openmcl/wiki/UpdatingFromSource">http://trac.clozure.com/openmcl/wiki/UpdatingFromSource</a></code>
has more details on building from source.
Alternatively, you can download a gzipped tar
file; see <a href="http://trac.clozure.com/openmcl">the main CCL
page</a>, or visit the page of <a
href="http://trac.clozure.com/openmcl/wiki/StableReleasesForACL2">stable
Clozure CL snapshots for ACL2 users</a>.  (Subversion and gzipped tar
files are great, but not so much a CCL disk image (<code>.dmg</code>
file), as we have had a report of the extracted CCL opening its own
window when you start it up.)  If you don't want to write your own
script (as suggested above) then after obtaining CCL, you may wish to
edit file <code>ccl/scripts/ccl</code> or file
<code>ccl/scripts/ccl64</code>, depending on whether you want to
use a 32-bit or 64-bit version (respectively).

<P><B><A NAME="Obtaining-CLISP">Obtaining CLISP</A></B><P>

CLISP is a non-commercial Common Lisp implementation, available from <code><a
href="http://clisp.cons.org/">http://clisp.cons.org/</a></code>.

<P><B><A NAME="Obtaining-CMUCL">Obtaining CMU Common Lisp</A></B><P>

CMU Common Lisp (sometimes called CMUCL) is a non-commercial Common Lisp
implementation, available from <code><a
href="http://www.cons.org/cmucl/">http://www.cons.org/cmucl/</a></code>.

<P><B><A NAME="Obtaining-GCL">Obtaining GCL</A></B><P>

IMPORTANT: Here we are referring to the non-ANSI version (sometimes
called the "CLtL1 version") of GCL.  It is probably impossible to build ACL2
with ANSI GCL just now, but that may be coming.  Note: On rare occasions you
may see a hard error, sometimes (not always) labeled as "bad plist", that
appears to be specific to GCL.  We have worked with the main GCL implementor
but have not found a way to eliminate these rare errors.

<P>

<B>Debian package.</B> You do not need to fetch GCL if you <A
HREF="http://packages.qa.debian.org/a/acl2.html">download the binary Debian
package for ACL2</A>.  Thanks to Camm Maguire for maintaining this package.
It may take some time after each ACL2 release for this binary Debian
package to be updated for that release.

<P>

GCL may be fetched from <code><a
href="http://www.gnu.org/software/gcl/">http://www.gnu.org/software/gcl/</a></code>.
If that site goes down, you may be able to find useful information from the <a
href="http://people.debian.org/~camm/gcl/">GCL Temporary Distribution Site</a>.

GCL maintainer Camm Maguire suggests the following, in order of preference
(most to least):

<ol>
<li>apt-get -q install gcl gcl-doc if running Debian
<li>Download and install the prebuilt binaries otherwise (if available for your platform)
<li>Download the latest (stable) source tarball and build yourself otherwise
<li>Download the latest (stable) cvs branch and build yourself
</ol>

As of December 2005, the latest recommended version is 2.6.7, and the latest
development version is 2.7.0.  But see <A HREF="#gcl-mac">below</A> for
suggestions for building GCL on a Macintosh running OS X.  And see the
next paragraph:

<p>

You may obtain a recent CVS version by executing, for example, the
following command (if you have CVS installed on your system).  This
particular command will retrieve (as of August 2010) the latest
development/unstable cvs sources.

<pre>
cvs -z9 -q -d:pserver:anonymous@cvs.sv.gnu.org:/sources/gcl \
     co -d gcl-2.6.8pre -r Version_2_6_8pre gcl
</pre>

<P>

<A NAME="gcl-mac"><B>Macintosh.</B></A> Robert Krug has provided instructions
for building GCL on Mac OS X, which we include here (very slightly modified, in
part with help from Camm Maguire) in case others find them helpful.

<pre>
The normal build process for GCL on Mac OS X assumes that
you have installed fink on your Mac.  (If you do not know
what this is, don't worry; you probably don't have it or
want it.)  Here we give instructions that have worked for
building GCL on OS X without fink.

   A. Obtain recent sources (there is a problem, e.g., with
      gcl-2.6.7).  For example, you can do the following:

      export CVSROOT=:pserver:anonymous@cvs.sv.gnu.org:/sources/gcl
      cvs -z9 -q co -d gcl-2.6.8pre -r Version_2_6_8pre gcl

      At some point you may be able to obtain GCL from
      ftp://ftp.gnu/org/, cd gnu, cd gcl, get
      gcl-2.6.8.tar.gz, tar xfz gcl-2.6.8.tar.gz)

   B. Make sure that /usr/local/bin is in your PATH; if not, run:
      PATH="$PATH:/usr/local/bin"

   C. cd &lt;gcl directory&gt;

   D. You now need to patch file h/powerpc-macosx.defs (this might not be
      necessary starting with GCL 2.6.8):

      Replace the line:
      LIBS := `echo $(LIBS) | sed -e 's/-lncurses/ /'` /sw/lib/libintl.dylib
      With:
      LIBS := `echo $(LIBS) | sed -e 's/-lncurses/ /'` /usr/local/lib/libintl.dylib

   E. Configure and start to build gcl:
      ./configure
      make

   F. Install gcl:
      sudo make install
</pre>

<P><B><A NAME="Obtaining-LispWorks">Obtaining LispWorks</A></B><P>

LispWorks is a commercial Common Lisp implementation. You can download
a free, restricted, version
from <code><a href="http://www.lispworks.com/">http://www.lispworks.com/</a></code>.
You may ask the vendor for an evaluation license for the full product
if you are considering purchasing a license.

<P><B><A NAME="Obtaining-SBCL">Obtaining SBCL</A></B><P>

SBCL (Steel Bank Common Lisp) is a non-commercial Common Lisp
implementation, available from <code><a
href="http://sbcl.sourceforge.net/">http://sbcl.sourceforge.net/</a></code>.

<p>

Note for 32-bit linux users: When building ACL2 with SBCL 1.0.18 and
1.0.39 on 32-bit Linux, we ran out of memory with the SBCL message
"Heap exhausted, game over."  We solved the problem by modifying our
sbcl script to use <code>--dynamic-space-size 2000</code>, for example:

<hr>
<pre>
#!/bin/sh
export SBCL_HOME=/projects/acl2/lisps/sbcl/sbcl-1.0.39-x86-linux/output
/projects/acl2/lisps/sbcl/sbcl-1.0.39-x86-linux/src/runtime/sbcl --dynamic-space-size 2000 $*
</pre>
<hr>

Your results may vary; one user has reported solving the problem with
<code>--dynamic-space-size 2000000000</code>.

<H3><A NAME="Performance">Performance comparisons</A></H3>

You can see recent performance numbers by following <a
href="http://www.cs.utexas.edu/users/moore/acl2/current/new.html#performance">this
link</a>, or by going to the <a
href="http://www.cs.utexas.edu/users/moore/acl2/">ACL2 home page</a>
and following the link "Recent changes to this page".

<p>

<b><font size="+2">[<a href="installation.html">Back to Installation Guide.</a>]</font></b>

<BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR><BR>

</BODY>
</HTML>
